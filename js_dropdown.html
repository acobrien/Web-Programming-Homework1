<html>

<head>

<title>Drop Down Example</title>

    <style>
        hr {
            color: black;
            border-width: medium;
        }
    	#ddIntRate {
			height: 73px;
			width: 105px;
		}
    	#txaNewBal {
			height: 299px;
			width: 673px;
		}
    </style>

<script type="text/javascript">
    // Calculates new balance based on input and interest rate.
    function calcNewBalance() {
        // 1. Get number typed in
    	var curBal = parseFloat(document.getElementById("txtCurBal").value);  
        // 2. Get interest rate from dropdown
        var dd = document.getElementById("ddIntRate");
        if (dd.selectedIndex == -1) {
            alert("You must select an interest rate");
            return;
		}
		var intRate = parseFloat(dd.value);  // Get interest rate from dropdown
        // 3. Calculate new balance
		var newBal = (1 + intRate) * curBal;
        // 4. Build display message
		strMsg = "Current Balance: $" + curBal.toFixed(2);
		strMsg += ", Balance after 1yr at " + (intRate*100).toFixed(2) + "% interest: $" + newBal.toFixed(2);
        // 5. Display in textarea, can use value or innerHTML
		//    document.getElementById("txaNewBal").value = strMsg;
		document.getElementById("txaNewBal").value = strMsg;
        return;
    }

    // Shows the properties of a dropdown list, e.g. select element
	function demoDropdown() {
        // 1. Get the dropdown list object (not the selection)
		var dd = document.getElementById("ddIntRate");

        // How many items in dropdown?
        // dd.length is a shortcut for dd.options.length
        var msg = "Num items in dropdown: " + dd.length + "\n";  // Number of options in dropdown
        msg += "Selected index: " + dd.selectedIndex + "\n";  // Index of selected option, or -1 if nothing selected

        if (dd.selectedIndex > -1) {
            msg += "Selected text: " + dd.options[dd.selectedIndex].text + "\n";
            msg += "Selected value: " + dd.value + "\n\n";
        }
        else {
            msg += "Nothing selected\n\n";
		}

        msg += "Contents of dropdown's options array: \n";

        // Loop over the options in dropdown
        for (i = 0; i < dd.length; i++) {
			var opt = dd.options[i]  // Grab current option
            msg += "   index: " + i + ", ";  // Record current index
			msg += "text: " + opt.text + ", ";  // Grab the option's text
            // Grab the option's innerHTML. text and innerHTML are the same.
			msg += "innerHTML: " + opt.innerHTML + ", ";  
            msg += "value: " + opt.value + ", ";  // Grad the option's value
            msg += "\tselected: " + opt.selected + "\n";  // Determine if the option is selected
        }
		document.getElementById("txaNewBal").innerHTML = msg;
        //alert(msg);
    }

    //  This function sets the focus to the control parameter and selects any text in it. 
    function setFocus(control) {
        control.focus();
        control.select();
    }

</script>

</head>

<body onload="setFocus(txtCurBal)">
    <h2>Drop Down Example</h2>
    <p>This example illustrates how to use a single-selection drop-down menu.</p>
    <hr>
    <form id="AccountForm">
	    <p>Type in your savings account balance:
            <label for="txtCurBal">Type in your balance</label>
    		<input type="text" id="txtCurBal" size="7" value="0">
	    </p>

	    <p> 
            <label for="ddIntRate">Select an interest rate</label><br>
            <select size="5" id="ddIntRate">
                <option value="0.04">4.00%</option>
                <option value="0.0425">4.25%</option>
                <option value="0.045">4.50%</option>
                <option value="0.0475">4.75%</option>
                <option value="0.05">5.00%</option>
            </select>
	    </p>

    	<p>
            <input id="btnCalc" type="button" value="Calculate New Balance" onclick="calcNewBalance()"/>
	    	<input id="btnDDInfo" type="button" value="Demo DropDown" onclick="demoDropdown()" />
	
	    <p><textarea id="txaNewBal"></textarea></p>

    </form>

</body>

</html>
